[gcode_macro M190]
rename_existing: M99190
gcode:
    {% set temperature = params.S | replace(',', '.') | float | round(0, 'ceil') | int %}
    M140 S{temperature}
    {% if temperature != 0 %}
        TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={temperature-2} MAXIMUM={temperature+3}
    {% endif %}