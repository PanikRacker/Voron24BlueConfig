[gcode_macro CG32]
variable_calibrate_z: True
variable_extruder_temp: 0.0
variable_park_bed: True
gcode:
    {% set var1 = params.CALIBRATE_Z | replace('True', '=True') | replace('False', '=False') | default(True, True) %}
    {% set var2 = params.EXTRUDER_TEMP | default(0) | float %}
    {% set var3 = params.PARK_BED | replace('True', '=True') | replace('False', '=False') | default(True, True) %}

    SET_GCODE_VARIABLE MACRO=CG32 VARIABLE=calibrate_z VALUE={var1}
    SET_GCODE_VARIABLE MACRO=CG32 VARIABLE=extruder_temp VALUE={var2}
    SET_GCODE_VARIABLE MACRO=CG32 VARIABLE=park_bed VALUE={var3}

    SAVE_GCODE_STATE NAME=STATE_CG32
    G90
    CG28
    CQGL CALIBRATE_Z={calibrate_z} EXTRUDER_TEMP={extruder_temp} PARK_BED={park_bed}
    RESTORE_GCODE_STATE NAME=STATE_CG32